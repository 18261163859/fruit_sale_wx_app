<!--pages/address-edit/address-edit.wxml-->
<view class="container">
  <view class="form-container">
    <!-- 收货人信息 -->
    <view class="form-section">
      <view class="form-item">
        <view class="form-label">收货人</view>
        <input
          class="form-input"
          placeholder="请输入收货人姓名"
          value="{{formData.receiverName}}"
          bindinput="onInputChange"
          data-field="receiverName"
        />
      </view>

      <view class="form-item">
        <view class="form-label">手机号码</view>
        <input
          class="form-input"
          type="number"
          maxlength="11"
          placeholder="请输入手机号码"
          value="{{formData.receiverPhone}}"
          bindinput="onInputChange"
          data-field="receiverPhone"
        />
      </view>
    </view>

    <!-- 地区选择 -->
    <view class="form-section">
      <view class="form-item picker-item">
        <view class="form-label">所在地区</view>
        <picker
          mode="region"
          value="{{region}}"
          bindchange="onRegionChange"
          custom-item="{{region[0]}}"
        >
          <view class="picker-value">
            <text>{{region[0]}} {{region[1]}} {{region[2]}}</text>
            <text class="arrow">›</text>
          </view>
        </picker>
      </view>

      <view class="form-item">
        <view class="form-label">详细地址</view>
        <textarea
          class="form-textarea"
          placeholder="街道、楼牌号等详细信息"
          value="{{formData.detailAddress}}"
          bindinput="onInputChange"
          data-field="detailAddress"
          maxlength="200"
          auto-height
        />
      </view>
    </view>

    <!-- 地址标签 -->
    <view class="form-section">
      <view class="form-label">地址标签</view>
      <view class="tag-list">
        <view
          wx:for="{{tagList}}"
          wx:key="index"
          class="tag-item {{formData.addressTag === item ? 'active' : ''}}"
          bindtap="selectTag"
          data-tag="{{item}}"
        >
          {{item}}
        </view>
      </view>
    </view>

    <!-- 设为默认 -->
    <view class="form-section">
      <view class="default-row">
        <view class="default-label">设为默认地址</view>
        <switch
          class="default-switch"
          checked="{{formData.isDefault === 1}}"
          bindchange="toggleDefault"
          color="#1989fa"
        />
      </view>
    </view>
  </view>

  <!-- 保存按钮 -->
  <view class="save-button-container">
    <button class="save-button" bindtap="saveAddress">
      保存
    </button>
  </view>
</view>

<!--pages/open-vip/open-vip.wxml-->
<view class="container">
  <!-- 会员卡片 -->
  <view class="header-card">
    <view class="vip-badge">
      <text class="vip-icon">⭐</text>
      <text class="vip-title">星享会员</text>
    </view>
    <view class="vip-price-section">
      <text class="price-label">年费价格</text>
      <view class="price-value">
        <text class="price-symbol">¥</text>
        <text class="price-number">199</text>
        <text class="price-unit">/年</text>
      </view>
      <text class="price-desc">一次性支付，非充值</text>
    </view>
  </view>

  <!-- 会员权益 -->
  <view class="benefits-section">
    <view class="section-title">
      <text>专属权益</text>
    </view>

    <view class="benefit-card">
      <view class="benefit-icon-wrapper discount">
        <text class="benefit-icon">💰</text>
      </view>
      <view class="benefit-content">
        <text class="benefit-title">95折优惠</text>
        <text class="benefit-desc">全场商品享受95折优惠</text>
      </view>
    </view>

    <view class="benefit-card">
      <view class="benefit-icon-wrapper priority">
        <text class="benefit-icon">🚀</text>
      </view>
      <view class="benefit-content">
        <text class="benefit-title">优先配送</text>
        <text class="benefit-desc">享受优先配送服务</text>
      </view>
    </view>

    <!-- <view class="benefit-card">
      <view class="benefit-icon-wrapper gift">
        <text class="benefit-icon">🎁</text>
      </view>
      <view class="benefit-content">
        <text class="benefit-title">积分礼包</text>
        <text class="benefit-desc">赠送500积分</text>
      </view>
    </view> -->

    <view class="benefit-card">
      <view class="benefit-icon-wrapper service">
        <text class="benefit-icon">💬</text>
      </view>
      <view class="benefit-content">
        <text class="benefit-title">专属客服</text>
        <text class="benefit-desc">7x24小时专属客服</text>
      </view>
    </view>
  </view>

  <!-- 说明 -->
  <view class="info-section">
    <view class="info-title">
      <text>温馨提示:</text>
    </view>
    <view class="info-content">
      <text>• 会员有效期:1年365天</text>
      <text>• 开通后立即生效,不可退款</text>
      <text>• 专属权益立即享用</text>
      <text>• 到期后自动失效</text>
    </view>
  </view>

  <!-- 底部按钮 -->
  <view class="bottom-bar">
    <view class="total-section">
      <text class="total-label">支付金额</text>
      <view class="total-price">
        <text class="total-symbol">¥</text>
        <text class="total-number">199.00</text>
      </view>
    </view>
    <button class="open-btn" bindtap="openVip" loading="{{loading}}">
      {{loading ? '处理中...' : '立即开通'}}
    </button>
  </view>

  <!-- 支付方式弹窗 -->
  <view class="payment-modal" wx:if="{{showPaymentModal}}">
    <view class="modal-mask" bindtap="closePaymentModal"></view>
    <view class="modal-content">
      <view class="modal-header">
        <text class="modal-title">选择支付方式</text>
        <text class="modal-close" bindtap="closePaymentModal">×</text>
      </view>
      <view class="payment-options">
        <view class="payment-option" bindtap="selectPayment" data-type="wechat">
          <view class="payment-left">
            <text class="payment-icon">💳</text>
            <text class="payment-name">微信支付</text>
          </view>
          <view class="payment-check" wx:if="{{paymentType === 'wechat'}}">✓</view>
        </view>
        <view class="payment-option" bindtap="selectPayment" data-type="alipay">
          <view class="payment-left">
            <text class="payment-icon">💳</text>
            <text class="payment-name">支付宝</text>
          </view>
          <view class="payment-check" wx:if="{{paymentType === 'alipay'}}">✓</view>
        </view>
      </view>
      <view class="modal-footer">
        <button class="confirm-pay-btn" bindtap="confirmPayment" loading="{{paying}}">
          {{paying ? '支付中...' : '确认支付 ¥199.00'}}
        </button>
      </view>
    </view>
  </view>
</view>

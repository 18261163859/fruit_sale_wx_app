<!--pages/address-list/address-list.wxml-->
<view class="container">
  <!-- 地址列表 -->
  <view class="address-list" wx:if="{{addressList.length > 0}}">
    <view
      wx:for="{{addressList}}"
      wx:key="id"
      class="address-item"
      bindtap="selectAddress"
      data-address="{{item}}"
    >
      <!-- 默认标签 -->
      <view wx:if="{{item.isDefault === 1}}" class="default-tag">默认</view>

      <!-- 地址信息 -->
      <view class="address-info">
        <view class="receiver-info">
          <text class="receiver-name">{{item.receiverName}}</text>
          <text class="receiver-phone">{{item.receiverPhone}}</text>
        </view>
        <view class="address-detail">
          <text class="address-tag" wx:if="{{item.addressTag}}">[{{item.addressTag}}]</text>
          <text>{{item.province}} {{item.city}} {{item.district}} {{item.detailAddress}}</text>
        </view>
      </view>

      <!-- 操作按钮 -->
      <view class="address-actions">
        <button
          class="action-btn"
          wx:if="{{item.isDefault !== 1}}"
          catchtap="setDefaultAddress"
          data-id="{{item.id}}"
        >
          设为默认
        </button>
        <button
          class="action-btn edit-btn"
          catchtap="editAddress"
          data-id="{{item.id}}"
        >
          编辑
        </button>
        <button
          class="action-btn delete-btn"
          catchtap="deleteAddress"
          data-id="{{item.id}}"
        >
          删除
        </button>
      </view>
    </view>
  </view>

  <!-- 空状态 -->
  <view class="empty-state" wx:else>
    <image class="empty-icon" src="/images/empty-address.png" mode="aspectFit"></image>
    <text class="empty-text">还没有收货地址</text>
    <text class="empty-hint">点击下方按钮添加新地址</text>
  </view>

  <!-- 添加按钮 -->
  <view class="add-button-container">
    <button class="add-button" bindtap="addAddress">
      <text class="add-icon">+</text>
      <text>添加新地址</text>
    </button>
  </view>
</view>
